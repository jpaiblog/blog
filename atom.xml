<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Japan Cognitive Services Support Blog</title>
  
  
  <link href="/blog/atom.xml" rel="self"/>
  
  <link href="https://jpaiblog.github.io/"/>
  <updated>2020-05-14T06:40:21.942Z</updated>
  <id>https://jpaiblog.github.io/</id>
  
  <author>
    <name>jpaiblog</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Azure の関連ポータル サイトで一部の Azure サブスクリプションやリソースが表示されない事象の原因と対処策</title>
    <link href="https://jpaiblog.github.io/2020/05/14/cognitive-portal-sub-not-found/"/>
    <id>https://jpaiblog.github.io/2020/05/14/cognitive-portal-sub-not-found/</id>
    <published>2020-05-13T15:00:00.000Z</published>
    <updated>2020-05-14T06:40:21.942Z</updated>
    
    <content type="html"><![CDATA[<p>Azure の関連ポータル サイトで Azure サブスクリプションやリソースが表示されない原因と対処策について解説します。</p><a id="more"></a><br><hr><p>Azure で提供されているサービスの一部は、Azure ポータル以外に独自のポータル サイトを提供しています。<br>より具体的に Cognitive Services を例に挙げると以下のようなポータル サイトが存在します。</p><ul><li>QnA Maker: <a href="https://www.qnamaker.ai/" target="_blank" rel="noopener">https://www.qnamaker.ai/</a></li><li>Custom Vision: <a href="https://www.customvision.ai/" target="_blank" rel="noopener">https://www.customvision.ai/</a></li><li>Speech Services: <a href="https://speech.microsoft.com/" target="_blank" rel="noopener">https://speech.microsoft.com/</a></li><li>LUIS: <a href="https://www.luis.ai/" target="_blank" rel="noopener">https://www.luis.ai/</a></li></ul><p>これらのポータル サイトは Azure と連携しており、サインインしたユーザーの Azure サブスクリプションやリソースを、ポータル内で表示・操作することができます。</p><p>しかしながら、例えば、以下のように複数の Azure AD ディレクトリ (contoso.onmicrosoft.com と fabrikam.onmicrosoft.com) に関連付けられているユーザー アカウント (<a href="mailto:user@contoso.onmicrosoft.com">user@contoso.onmicrosoft.com</a>) があるとします。この場合、ロールベースのアクセス制御 (RBAC) の設定が適切でも、上記のポータル サイトでサブスクリプションやリソースが表示されないことがあります。</p><p><img src="https://jpaiblog.github.io/images/cognitive-portal-sub-not-found/cognitive-portal-AAD-tenant.png" alt="Cognitive Portal Sign-in"></p><h3 id="■原因"><a href="#■原因" class="headerlink" title="■原因"></a>■原因</h3><p>これらのポータルサイトへ Azure AD の組織アカウントでアカウントサインインする場合、特定の Azure AD ディレクトリに依存しない common エンドポイント (login.microsoftonline.com/<strong>common</strong>/…) が使用されます。この時、サインイン先となるのは、ホーム ディレクトリ  (上記の図では ディレクトリ A の contoso.onmicrosoft.com) となります。通常はこの挙動で問題になることはありません。</p><p>しかし、別のディレクトリにゲスト ユーザーとして招待されることで、複数のディレクトリと関連付けらえれている場合、ホーム ディレクトリ以外のディレクトリ (上記の図では Bの fabrikam.onmicrosoft.com) に対するサインインは行われないため、そのディレクトリに対するアクセス トークンは取得されません。それにより、ポータルサイト上ではディレクトリ B  に紐づいたサブスクリプションやリソースが表示されない事象が発生します。これは Azure AD ディレクトリへのサインインを伴うアクセス権の管理上想定される動作です。</p><h3 id="■対処策"><a href="#■対処策" class="headerlink" title="■対処策"></a>■対処策</h3><p>ディレクトリ B に関連付けられた Azure サブスクリプションに対するアクセス トークンを取得するには、ディレクトリ B へのサインインを明示的に完了する必要があります。</p><h4 id="方法-1-ポータル-サイト内でディレクトリを変更する"><a href="#方法-1-ポータル-サイト内でディレクトリを変更する" class="headerlink" title="方法 1. ポータル サイト内でディレクトリを変更する"></a>方法 1. ポータル サイト内でディレクトリを変更する</h4><p>ポータル サイトによっては、サイト内でディレクトリを切り替える機能が用意されています。この機能を利用してディレクトリ B に切り替えます。</p><p>例. <a href="https://www.customvision.ai/" target="_blank" rel="noopener">Custom Vision ポータル</a>:</p><p><img src="https://jpaiblog.github.io/images/cognitive-portal-sub-not-found/custom-vision-dir-switch.png" alt="Custom Vision portal dir switch"></p><p>これはディレクトリ (テナント) 固有のサインイン エンドポイント (login.microsoftonline.com/<strong>&lt;テナント ID またはテナント名&gt;/</strong>…) を使用してサインインすることで実現されています。</p><p>ご参考: <a href="https://docs.microsoft.com/ja-jp/azure/active-directory/develop/active-directory-v2-protocols#endpoints" target="_blank" rel="noopener">Azure AD のサインイン エンドポイント</a></p><h4 id="方法-2-Azure-ポータルでディレクトリを変更する"><a href="#方法-2-Azure-ポータルでディレクトリを変更する" class="headerlink" title="方法 2. Azure ポータルでディレクトリを変更する"></a>方法 2. Azure ポータルでディレクトリを変更する</h4><p>ポータル サイト内でディレクリを切り替える機能が用意されていない場合は、Azure ポータル (<a href="https://portal.azure.com" target="_blank" rel="noopener">https://portal.azure.com</a>) を使ってディレクトリの切り替えを行います。そして、各サービスのポータルサイト (<a href="https://www.qnamaker.ai/" target="_blank" rel="noopener">QnA Maker</a> など) にアクセスします。</p><p>特にディレクトリ B で多要素認証 (MFA) が強制されているなどサインイン方法に制約がある場合は、こちらの方法をお試しください。</p><p>Azure ポータルでのディレクトリの切り替え方法は次の手順のようになります。</p><ol><li><p>Azure ポータルの画面右上のユーザーアイコンから「ディレクトリの切り替え」を選択します</p><p> <img src="https://jpaiblog.github.io/images/cognitive-portal-sub-not-found/azure-portal-dir-switch-1.png" alt="Azure portal dir switch 1"></p></li><li><p>Azure サブスクリプションが存在するディレクトリを選択してサインインを完了します</p><p> <img src="https://jpaiblog.github.io/images/cognitive-portal-sub-not-found/azure-portal-dir-switch-2.png" alt="Azure portal dir switch 2"></p></li><li><p>Web ブラウザーの別のタブで対象のポータル サイト (例. <a href="https://www.qnamaker.ai/" target="_blank" rel="noopener">QnA Maker</a>) を開きます</p></li></ol><p>もし上記の手順でもポータル サイトで Azure サブスクリプションやリソースが表示されない場合、既定のディレクトリを Azure サブスクリプションが紐づいたディレクトリに変更してから、そのディレクトリに切り替えることで解消するかご確認ください。</p><h3 id="■-補足"><a href="#■-補足" class="headerlink" title="■ 補足"></a>■ 補足</h3><p>ポータル サイト内でディレクトリを切り替える機能が用意されておらず、ホーム ディレクトリでサインインした場合でも、ゲスト ユーザーとして招待されているディレクトリ B に関連付けられた Azure サブスクリプションやリソースがポータル サイト上で表示されることがあります。</p><p>これは他のサイト、例えば Azure ポータルでディレクトリ B にサインインしていた場合、ブラウザーにディレクトリ B の認証情報がキャッシュされ、ディレクトリ B に関連付けられた Azure サブスクリプションに対するアクセス トークンを取得できるためです。</p><p>ディレクトリ B で多要素認証 (MFA) が強制されているなど、サインイン方法に制約がある場合は、キャッシュされたサインイン情報が有効でないため、方法 2 のように Azure ポータルで MFA などの認証を完了する必要があります。</p><hr>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Azure の関連ポータル サイトで Azure サブスクリプションやリソースが表示されない原因と対処策について解説します。&lt;/p&gt;
    
    </summary>
    
    
      <category term="Cognitive Services" scheme="https://jpaiblog.github.io/categories/Cognitive-Services/"/>
    
    
      <category term="QnA Maker" scheme="https://jpaiblog.github.io/tags/QnA-Maker/"/>
    
      <category term="LUIS" scheme="https://jpaiblog.github.io/tags/LUIS/"/>
    
      <category term="Custom Vision" scheme="https://jpaiblog.github.io/tags/Custom-Vision/"/>
    
      <category term="Speech Services" scheme="https://jpaiblog.github.io/tags/Speech-Services/"/>
    
  </entry>
  
  <entry>
    <title>Cognitive Serivces で使用する API テスト ページについて</title>
    <link href="https://jpaiblog.github.io/2020/04/30/test_APIs/"/>
    <id>https://jpaiblog.github.io/2020/04/30/test_APIs/</id>
    <published>2020-04-30T03:00:00.000Z</published>
    <updated>2020-05-14T06:40:21.963Z</updated>
    
    <content type="html"><![CDATA[<p>Cognitive Serivces の API について、テスト実行用の参考サイトを紹介します。</p><a id="more"></a><br><hr><h4 id="はじめに"><a href="#はじめに" class="headerlink" title="はじめに"></a>はじめに</h4><ul><li><p>Cognitive Serivces の API は複数あります。どのような API があるかは以下サイトを参照ください。<br><a href="https://docs.microsoft.com/ja-jp/azure/cognitive-services/welcome" target="_blank" rel="noopener">Azure Cognitive Services とは</a>  </p></li><li><p>Azure REST API のリファレンス サイトより、Cognitive Services の REST API を確認できます。いくつかのサービスは、こちらのサイトから REST API の実行が可能です。<br><a href="https://docs.microsoft.com/en-us/rest/api/azure/" target="_blank" rel="noopener">Azure REST API Reference</a><br><a href="https://docs.microsoft.com/en-us/rest/api/cognitiveservices/" target="_blank" rel="noopener">Azure Cognitive Services REST API reference</a><br><a href="https://docs.microsoft.com/en-us/rest/api/cognitiveservices-bingsearch/" target="_blank" rel="noopener">Azure Cognitive Services - Bing Search REST API reference</a>  </p></li><li><p>Cognitive Services 関連の API をまとめたサイトにも REST API を実行可能なページが用意されています。https:// に続くリージョンの指定によっては API が用意されていない場合があるため、代表的な 4 リージョンを紹介します。<br><a href="https://westus.dev.cognitive.microsoft.com/docs/services" target="_blank" rel="noopener">Cognitive Services APIs (westus)</a><br><a href="https://westus2.dev.cognitive.microsoft.com/docs/services" target="_blank" rel="noopener">Cognitive Services APIs (westus2)</a><br><a href="https://southcentralus.dev.cognitive.microsoft.com/docs/services" target="_blank" rel="noopener">Cognitive Services APIs (southcentralus)</a><br><a href="https://westeurope.dev.cognitive.microsoft.com/docs/services" target="_blank" rel="noopener">Cognitive Services APIs (westeurope)</a>  </p></li><li><p>REST API の実行には API キーが必要になります。以下のサイトから API キーを取得できます。こちらにないサービスについては、各サービスのクイック スタート ページ等から利用方法を参照ください。<br><a href="https://azure.microsoft.com/ja-jp/try/cognitive-services/" target="_blank" rel="noopener">Cognitive Services を試す</a>  </p></li></ul><p><br>API のテスト実行可能な直リンクを紹介します。Video Indexer, Bing Speech (廃止), Translator Speech (廃止), Translator Text, Bing Search 系 API は含まれません。</p><hr><h4 id="Computer-Vision"><a href="#Computer-Vision" class="headerlink" title="Computer Vision"></a><a href="https://docs.microsoft.com/ja-jp/azure/cognitive-services/computer-vision/" target="_blank" rel="noopener">Computer Vision</a></h4><ul><li><a href="https://westus2.dev.cognitive.microsoft.com/docs/services/5d98695995feb7853f67d6a6/operations/5d9869604be85dee480c8750" target="_blank" rel="noopener">v3.0 (Preview)</a>  </li><li><a href="https://westus.dev.cognitive.microsoft.com/docs/services/5cd27ec07268f6c679a3e641/operations/56f91f2e778daf14a499f21b" target="_blank" rel="noopener">v2.1</a>  </li></ul><hr><h4 id="Custom-Vision-Service"><a href="#Custom-Vision-Service" class="headerlink" title="Custom Vision Service"></a><a href="https://docs.microsoft.com/ja-jp/azure/cognitive-services/Custom-Vision-Service/" target="_blank" rel="noopener">Custom Vision Service</a></h4><ul><li><a href="https://southcentralus.dev.cognitive.microsoft.com/docs/services/Custom_Vision_Training_3.2/operations/5dddfe4dc8d30b100855c608" target="_blank" rel="noopener">v3.2 Training</a>  </li><li><a href="https://southcentralus.dev.cognitive.microsoft.com/docs/services/Custom_Vision_Prediction_3.0/operations/5c82db60bf6a2b11a8247c15" target="_blank" rel="noopener">v3.0 Prediction</a>  </li></ul><hr><h4 id="Face"><a href="#Face" class="headerlink" title="Face"></a><a href="https://docs.microsoft.com/ja-jp/azure/cognitive-services/face/" target="_blank" rel="noopener">Face</a></h4><ul><li><a href="https://westus.dev.cognitive.microsoft.com/docs/services/563879b61984550e40cbbe8d/operations/563879b61984550f30395236" target="_blank" rel="noopener">v1.0</a>  </li></ul><hr><h4 id="Form-Recognizer-Preview"><a href="#Form-Recognizer-Preview" class="headerlink" title="Form Recognizer (Preview)"></a><a href="https://docs.microsoft.com/ja-jp/azure/cognitive-services/form-recognizer/" target="_blank" rel="noopener">Form Recognizer (Preview)</a></h4><ul><li><a href="https://westus2.dev.cognitive.microsoft.com/docs/services/form-recognizer-api-v2-preview/operations/AnalyzeWithCustomForm" target="_blank" rel="noopener">v2.0 (Preview)</a>  </li></ul><hr><h4 id="Ink-Recognizer-Preview"><a href="#Ink-Recognizer-Preview" class="headerlink" title="Ink Recognizer (Preview)"></a><a href="https://docs.microsoft.com/ja-jp/azure/cognitive-services/ink-recognizer/" target="_blank" rel="noopener">Ink Recognizer (Preview)</a></h4><ul><li><a href="https://docs.microsoft.com/en-us/rest/api/cognitiveservices/inkrecognizer/inkrecognizer" target="_blank" rel="noopener">v1.0 (Preview)</a>  </li></ul><hr><h4 id="Speech-Service"><a href="#Speech-Service" class="headerlink" title="Speech Service"></a><a href="https://docs.microsoft.com/ja-jp/azure/cognitive-services/speech-service/" target="_blank" rel="noopener">Speech Service</a></h4><p>Speech Service はさらに複数のサービス・機能に分かれます。利用可能な REST API の直リンクを以下に列挙します。サービス、機能の一覧は <a href="https://docs.microsoft.com/ja-jp/azure/cognitive-services/speech-service/overview" target="_blank" rel="noopener">こちら</a> をご確認ください。  </p><ul><li><a href="https://docs.microsoft.com/ja-jp/azure/cognitive-services/speech-service/rest-speech-to-text" target="_blank" rel="noopener">Speech to Text - 音声テキスト変換</a>  </li><li><a href="https://docs.microsoft.com/ja-jp/azure/cognitive-services/speech-service/rest-text-to-speech" target="_blank" rel="noopener">Text to Speech - テキスト読み上げ</a>  </li><li><a href="https://signature.centralus.cts.speech.microsoft.com/UI/index.html" target="_blank" rel="noopener">Conversation transcription - 会話の文字おこし (Preview)</a></li></ul><hr><h4 id="Speaker-Recognition-Preview"><a href="#Speaker-Recognition-Preview" class="headerlink" title="Speaker Recognition (Preview)"></a><a href="https://docs.microsoft.com/ja-jp/azure/cognitive-services/speaker-recognition/home" target="_blank" rel="noopener">Speaker Recognition (Preview)</a></h4><ul><li><a href="https://westus.dev.cognitive.microsoft.com/docs/services/563309b6778daf02acc0a508/operations/5645c3271984551c84ec6797" target="_blank" rel="noopener">v1.0 (Preview)</a>  </li></ul><hr><h4 id="Language-Understanding-LUIS"><a href="#Language-Understanding-LUIS" class="headerlink" title="Language Understanding - LUIS"></a><a href="https://docs.microsoft.com/ja-jp/azure/cognitive-services/luis/" target="_blank" rel="noopener">Language Understanding - LUIS</a></h4><p>利用可能な REST API の仕様について <a href="https://docs.microsoft.com/ja-jp/azure/cognitive-services/luis/developer-reference-resource#rest-specifications" target="_blank" rel="noopener">こちら</a> をご確認ください。  </p><ul><li><a href="https://westeurope.dev.cognitive.microsoft.com/docs/services/luis-programmatic-apis-v3-0-preview/operations/5890b47c39e2bb052c5b9c2f" target="_blank" rel="noopener">v3.0 オーサリング (preview)</a>  </li><li><a href="https://westus.dev.cognitive.microsoft.com/docs/services/luis-endpoint-api-v3-0/operations/5cb0a91e54c9db63d589f433" target="_blank" rel="noopener">v3.0 予測</a>  </li><li><a href="https://westus.dev.cognitive.microsoft.com/docs/services/5890b47c39e2bb17b84a55ff/operations/5890b47c39e2bb052c5b9c2f" target="_blank" rel="noopener">v2.0 オーサリング</a>  </li><li><a href="https://westus.dev.cognitive.microsoft.com/docs/services/5819c76f40a6350ce09de1ac/operations/5819c77140a63516d81aee78" target="_blank" rel="noopener">v2.0 予測</a>  </li></ul><hr><h4 id="QnA-Maker"><a href="#QnA-Maker" class="headerlink" title="QnA Maker"></a><a href="https://docs.microsoft.com/ja-jp/azure/cognitive-services/qnamaker/" target="_blank" rel="noopener">QnA Maker</a></h4><ul><li><a href="https://docs.microsoft.com/ja-jp/rest/api/cognitiveservices/qnamaker/alterations" target="_blank" rel="noopener">v4.0 Alterations</a>  </li><li><a href="https://docs.microsoft.com/ja-jp/rest/api/cognitiveservices/qnamaker/endpointkeys" target="_blank" rel="noopener">v4.0 Endpoint Keys</a>  </li><li><a href="https://docs.microsoft.com/ja-jp/rest/api/cognitiveservices/qnamaker/endpointsettings" target="_blank" rel="noopener">v4.0 Endpoint Settings</a>  </li><li><a href="https://docs.microsoft.com/ja-jp/rest/api/cognitiveservices/qnamaker/knowledgebase" target="_blank" rel="noopener">v4.0 Knowledgebase</a>  </li><li><a href="https://docs.microsoft.com/ja-jp/rest/api/cognitiveservices/qnamaker/operations" target="_blank" rel="noopener">v4.0 Operations</a>  </li><li><a href="https://docs.microsoft.com/ja-jp/rest/api/cognitiveservices/qnamakerruntime/runtime" target="_blank" rel="noopener">v4.0 Runtime</a>  </li></ul><hr><h4 id="Text-Analytics"><a href="#Text-Analytics" class="headerlink" title="Text Analytics"></a><a href="https://docs.microsoft.com/ja-jp/azure/cognitive-services/text-analytics/" target="_blank" rel="noopener">Text Analytics</a></h4><ul><li><a href="https://westus.dev.cognitive.microsoft.com/docs/services/TextAnalytics-v3-0-Preview-1/operations/Languages" target="_blank" rel="noopener">v3.0 (Preview)</a>  </li><li><a href="https://westcentralus.dev.cognitive.microsoft.com/docs/services/TextAnalytics-v2-1/operations/56f30ceeeda5650db055a3c7" target="_blank" rel="noopener">v2.1</a>  </li></ul><hr><h4 id="Anomaly-Detector-Preview"><a href="#Anomaly-Detector-Preview" class="headerlink" title="Anomaly Detector (Preview)"></a><a href="https://docs.microsoft.com/ja-jp/azure/cognitive-services/anomaly-detector/" target="_blank" rel="noopener">Anomaly Detector (Preview)</a></h4><ul><li><a href="https://westus2.dev.cognitive.microsoft.com/docs/services/AnomalyDetector/operations/post-timeseries-entire-detect" target="_blank" rel="noopener">v1.0 (Preview)</a>  </li></ul><hr><h4 id="Content-Moderator"><a href="#Content-Moderator" class="headerlink" title="Content Moderator"></a><a href="https://docs.microsoft.com/ja-jp/azure/cognitive-services/content-moderator/" target="_blank" rel="noopener">Content Moderator</a></h4><ul><li><a href="https://westus.dev.cognitive.microsoft.com/docs/services/57cf753a3f9b070c105bd2c1/operations/57cf753a3f9b070868a1f66c" target="_blank" rel="noopener">v1.0 Moderate</a>  </li><li><a href="https://westus.dev.cognitive.microsoft.com/docs/services/580519463f9b070e5c591178/operations/580519483f9b0709fc47f9c5" target="_blank" rel="noopener">v1.0 Review</a>  </li></ul><hr><h4 id="Personalizer"><a href="#Personalizer" class="headerlink" title="Personalizer"></a><a href="https://docs.microsoft.com/ja-jp/azure/cognitive-services/personalizer/" target="_blank" rel="noopener">Personalizer</a></h4><ul><li><a href="https://westus2.dev.cognitive.microsoft.com/docs/services/personalizer-api/operations/Rank" target="_blank" rel="noopener">v1.0</a>  </li></ul><hr><br>※ このページは 2020 年 5 月 1 日に更新しました。]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Cognitive Serivces の API について、テスト実行用の参考サイトを紹介します。&lt;/p&gt;
    
    </summary>
    
    
      <category term="Cognitive Services" scheme="https://jpaiblog.github.io/categories/Cognitive-Services/"/>
    
    
      <category term="API" scheme="https://jpaiblog.github.io/tags/API/"/>
    
  </entry>
  
  <entry>
    <title>ポータルにサインインできない事象について (AADSTS650051)</title>
    <link href="https://jpaiblog.github.io/2020/03/07/error-AADSTS650051/"/>
    <id>https://jpaiblog.github.io/2020/03/07/error-AADSTS650051/</id>
    <published>2020-03-06T15:00:00.000Z</published>
    <updated>2020-05-14T06:40:21.947Z</updated>
    
    <content type="html"><![CDATA[<p>エラー コード AADSTS650051 を含むメッセージが出力し、製品ポータル (<a href="http://www.luis.ai" target="_blank" rel="noopener">www.luis.ai</a> や <a href="http://www.customvision.ai" target="_blank" rel="noopener">www.customvision.ai</a> など) へのサインインが失敗する場合の対処方法を紹介します。</p><a id="more"></a><br><hr><p>下記エラーメッセージは (ドメイン名) の DNS 名に紐づく Azure AD のテナントが、管理者不在のバイラル (非管理) テナントと呼ばれる状態 (unmanaged state) であり、それが原因でポータルへサインインできないことを意味します。  </p><blockquote><p>ErrorDescription’: ‘AADSTS650051: Using application ‘&lt;ポータル FQDN&gt;’ is currently not supported for your organization &lt;ドメイン名&gt; because it is in an unmanaged state. An administrator needs to claim ownership of the company by DNS validation of &lt;ドメイン名&gt; before the application &lt;ポータル FQDN&gt; can be provisioned.`</p></blockquote><p>類似のサービスに関する記事とはなりますが、詳細と対処方法は以下をご参照ください。  </p><ul><li><a href="https://docs.microsoft.com/ja-jp/archive/blogs/jpcognitiveblog/cannot-signin-custom-vision-service-portal" target="_blank" rel="noopener">非管理テナントのアカウントで Custom Vision Service のポータルにサインインできない場合の対処方法</a></li></ul><p>この問題は、当該テナントに紐づく (ドメイン名) のドメインの所有確認を行うことで解消されるため、以下のドキュメントの “3. 「管理者になる」メニューを実行します。” まで実施ください。  </p><ul><li><a href="https://docs.microsoft.com/ja-jp/archive/blogs/exchangeteamjp/domain-registered-by-self-service-sign-up" target="_blank" rel="noopener">セルフサービス サインアップで登録されたドメインの対処方法</a></li></ul><p>なお、この問題を解消するだけであれば、手順 4 以降の作業は必要ありませんが、手順 3 を実施する段階で DNS の設定変更が必要となります。Azure AD テナントやドメインの管理者にて確認ください。<br><br></p><p>関連する公開情報:</p><ul><li><a href="https://docs.microsoft.com/ja-jp/azure/active-directory/b2b/troubleshoot#you-receive-an-aadsts65005-error-when-you-try-to-log-in-to-an-azure-resource" target="_blank" rel="noopener">Azure リソースにログインしようとすると “AADSTS65005” エラーを受け取ります</a></li><li><a href="https://docs.microsoft.com/ja-jp/azure/active-directory/users-groups-roles/domains-admin-takeover" target="_blank" rel="noopener">Azure Active Directory の非管理対象ディレクトリを管理者として引き継ぐ</a></li></ul><hr>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;エラー コード AADSTS650051 を含むメッセージが出力し、製品ポータル (&lt;a href=&quot;http://www.luis.ai&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;www.luis.ai&lt;/a&gt; や &lt;a href=&quot;http://www.customvision.ai&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;www.customvision.ai&lt;/a&gt; など) へのサインインが失敗する場合の対処方法を紹介します。&lt;/p&gt;
    
    </summary>
    
    
      <category term="Cognitive Services" scheme="https://jpaiblog.github.io/categories/Cognitive-Services/"/>
    
    
      <category term="AADSTS650051" scheme="https://jpaiblog.github.io/tags/AADSTS650051/"/>
    
  </entry>
  
  <entry>
    <title>管理サービスのリージョンについて</title>
    <link href="https://jpaiblog.github.io/2020/03/03/QNA-management-service/"/>
    <id>https://jpaiblog.github.io/2020/03/03/QNA-management-service/</id>
    <published>2020-03-02T15:00:00.000Z</published>
    <updated>2020-05-14T06:40:21.957Z</updated>
    
    <content type="html"><![CDATA[<p>QNA Maker の管理サービスについて説明します。</p><a id="more"></a><br><hr><p>QnA Maker サービスの全体構成は下記ドキュメントの図を参照ください。  </p><ul><li><p><a href="https://docs.microsoft.com/ja-jp/azure/cognitive-services/qnamaker/how-to/set-up-qnamaker-service-azure" target="_blank" rel="noopener">QnA Maker のリソースを管理する</a>  </p><p> <img src="https://jpaiblog.github.io/images/key-management.png" alt="QNA Maker">  </p></li></ul><p>この図の中で、Cognitive Services としてのリソースは QnA Maker Subscription に相当します。例えば、ポータルを操作して KB を編集した場合、米国西部リージョンにおいてホストされている API 群が呼び出されます (5. Manage KB in portal or via APIs)。この API 群を別リージョンに移行することができないため、<a href="https://docs.microsoft.com/ja-jp/azure/cognitive-services/qnamaker/how-to/set-up-qnamaker-service-azure#management-service-region" target="_blank" rel="noopener">こちら</a> の記載の通り、Cognitive Services リソースは米国西部リージョン固定になります。  </p><p>米国西部リージョンにある API のバックエンドから、Web Apps 上でホストされた QnA Maker ランタイムに対してアクセスし、Q&amp;A の追加や削除といった操作が行われます。なお、実際の KB のコンテンツ (Q&amp;A、メタデータ等) は Azure Search に保存されており、ユーザーのチャットログは Application Insights に保存されているため、顧客データは米国西部リージョンには保存されません。  </p><p>※ 管理サービスで使用する API の詳細は以下サイトを参照ください。  </p><ul><li><a href="https://westus.dev.cognitive.microsoft.com/docs/services/5a93fcf85b4ccd136866eb37/operations/5ac266295b4ccd1554da75ff" target="_blank" rel="noopener">QnA Maker V4.0</a>  </li></ul><p>KB を公開した後の、ボット等のアプリケーションからの問い合わせ (4. User QnA endpoint in Bot) は GenerateAnswer API が使用されます。これは QnA Maker ランタイム (Web Apps) に対して直接アクセスするため、米国西部リージョンを経由することはありません。</p><p>※ GenerateAnswer API の詳細は以下サイトをご参照ください。  </p><ul><li><a href="https://westus.dev.cognitive.microsoft.com/docs/services/5a93fcf85b4ccd136866eb37/operations/5ac266295b4ccd1554da75ff" target="_blank" rel="noopener">GenerateAnswer API およびメタデータを使って回答を取得する</a>  </li></ul><hr>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;QNA Maker の管理サービスについて説明します。&lt;/p&gt;
    
    </summary>
    
    
      <category term="QNA Maker" scheme="https://jpaiblog.github.io/categories/QNA-Maker/"/>
    
    
      <category term="QNA Maker 管理サービス" scheme="https://jpaiblog.github.io/tags/QNA-Maker-%E7%AE%A1%E7%90%86%E3%82%B5%E3%83%BC%E3%83%93%E3%82%B9/"/>
    
  </entry>
  
  <entry>
    <title>過去ブログについて</title>
    <link href="https://jpaiblog.github.io/2020/01/12/past-blog/"/>
    <id>https://jpaiblog.github.io/2020/01/12/past-blog/</id>
    <published>2020-01-11T15:00:00.000Z</published>
    <updated>2020-05-14T06:40:21.952Z</updated>
    
    <content type="html"><![CDATA[<p>過去のブログ情報を紹介します。</p><a id="more"></a><br><hr><h2 id="Cognitive-Services"><a href="#Cognitive-Services" class="headerlink" title="Cognitive Services"></a>Cognitive Services</h2><ul><li><a href="https://social.msdn.microsoft.com/Forums/ja-JP/255a225d-24e5-4e21-ad28-7fab33088131/translator-text-api-?forum=cognitivesupportteamja" target="_blank" rel="noopener">Translator Text API の翻訳文字数の確認方法</a></li><li><a href="https://social.msdn.microsoft.com/Forums/ja-JP/fee57b8d-8d08-4036-9d2e-ad4f48812624/open-api-testing-console?forum=cognitivesupportteamja" target="_blank" rel="noopener">Open API Testing Console</a></li><li><a href="https://social.msdn.microsoft.com/Forums/ja-JP/9555e55e-2af0-4130-948a-74ee3f6d349e/http-401-access-denied-invalid-subscription-key-?forum=cognitivesupportteamja" target="_blank" rel="noopener">HTTP 401 Access Denied (invalid subscription key) のエラーが発生した場合の切り分け方法</a></li><li><a href="https://social.msdn.microsoft.com/Forums/ja-JP/9586428d-1ad8-4838-bac8-b37da05d9d47/cognitive-services-?forum=cognitivesupportteamja" target="_blank" rel="noopener">Cognitive Services の料金について</a></li><li><a href="https://social.msdn.microsoft.com/Forums/ja-JP/1fc6d90a-f335-4a51-bbb4-7c168bf8358e/luis-wwwluisai-?forum=cognitivesupportteamja" target="_blank" rel="noopener">LUIS ポータル (www.luis.ai) にサインインできない場合の対処方法</a></li><li><a href="https://social.msdn.microsoft.com/Forums/ja-JP/bcf0ea4b-04f2-4b81-9963-34d85b3594ef/qna-maker-api-v4-azure-search-?forum=cognitivesupportteamja" target="_blank" rel="noopener">QnA Maker API V4 (一般公開版) の Azure Search に関するよくあるご質問</a></li><li><a href="https://social.msdn.microsoft.com/Forums/ja-JP/d4235f66-2c6d-4ad8-87ba-ec859e5bb33f/-custom-vision-service-?forum=cognitivesupportteamja" target="_blank" rel="noopener">非管理テナントのアカウントで Custom Vision Service のポータルにサインインできない場合の対処方法</a></li><li><a href="https://social.msdn.microsoft.com/Forums/ja-JP/d1b413b3-d0a7-4fb9-9938-01a52cb5f914/qna-maker-api-v4-?forum=cognitivesupportteamja" target="_blank" rel="noopener">QnA Maker API V4 (一般公開版) のよくあるご質問</a></li><li><a href="https://social.msdn.microsoft.com/Forums/ja-JP/e9917891-e99e-481f-a32a-34f853fdd22b/bing-speech-api-api-10-15-?forum=cognitivesupportteamja" target="_blank" rel="noopener">Bing Speech API の新規 API キー作成は 10 月 15 日で終了しました</a></li><li><a href="https://social.msdn.microsoft.com/Forums/ja-JP/5b3b97c3-532e-489c-b0cb-5546a2988427/cognitive-services-?forum=cognitivesupportteamja" target="_blank" rel="noopener">Cognitive Services の技術サポートのお問い合わせ方法</a></li><li><a href="https://social.msdn.microsoft.com/Forums/ja-JP/ecab7e31-dddb-48bf-8a8f-7a9f347ae1b5/cognitive-services-tls-12-?forum=cognitivesupportteamja" target="_blank" rel="noopener">Cognitive Services への接続には TLS 1.2 をご利用ください</a></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;過去のブログ情報を紹介します。&lt;/p&gt;
    
    </summary>
    
    
      <category term="Cognitive Services" scheme="https://jpaiblog.github.io/categories/Cognitive-Services/"/>
    
    
      <category term="過去ブログ" scheme="https://jpaiblog.github.io/tags/%E9%81%8E%E5%8E%BB%E3%83%96%E3%83%AD%E3%82%B0/"/>
    
  </entry>
  
  <entry>
    <title>jpaiblog について</title>
    <link href="https://jpaiblog.github.io/2020/01/01/about-jpaiblog/"/>
    <id>https://jpaiblog.github.io/2020/01/01/about-jpaiblog/</id>
    <published>2019-12-31T15:00:00.000Z</published>
    <updated>2020-05-14T06:40:21.936Z</updated>
    
    <content type="html"><![CDATA[<p>日本マイクロソフトの Cognitive Serivce に関するサポート情報のブログです。</p><h3 id="公開日"><a href="#公開日" class="headerlink" title="公開日"></a>公開日</h3><p>2020 年 1 月 1 日より公開いたしました。</p><h3 id="活動について"><a href="#活動について" class="headerlink" title="活動について"></a>活動について</h3><p>製品のサポート メンバーによって運用されております。仕様に関する情報やトラブル シューティングの手順、実装におけるワンポイント アドバイスを公開いたします。</p><h3 id="留意事項"><a href="#留意事項" class="headerlink" title="留意事項"></a>留意事項</h3><p>サイトのコンテンツや情報において、可能な限り正確な情報を掲載し、更新するよう努めております。しかしながら、状況の変化や情報が古くなることにより、必ずしもお客様環境に適用できない情報となる場合がございます。恐れ入りますが、予めご留意くださいますようお願い申し上げます。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;日本マイクロソフトの Cognitive Serivce に関するサポート情報のブログです。&lt;/p&gt;
&lt;h3 id=&quot;公開日&quot;&gt;&lt;a href=&quot;#公開日&quot; class=&quot;headerlink&quot; title=&quot;公開日&quot;&gt;&lt;/a&gt;公開日&lt;/h3&gt;&lt;p&gt;2020 年 1 月 1
      
    
    </summary>
    
    
      <category term="Cognitive Services" scheme="https://jpaiblog.github.io/categories/Cognitive-Services/"/>
    
    
      <category term="はじめに" scheme="https://jpaiblog.github.io/tags/%E3%81%AF%E3%81%98%E3%82%81%E3%81%AB/"/>
    
  </entry>
  
</feed>
